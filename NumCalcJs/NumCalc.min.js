const NumCalc_GR=(Math.sqrt(5)+1)/2,NumCalc_EPSILON=2**-23,NumCalc_ROOT_EPSILON=Math.sqrt(NumCalc_EPSILON),NumCalc={maximum:(r,e,u,N)=>{N=null==N?1e-4:N;let t=u-(u-e)/NumCalc_GR,a=e+(u-e)/NumCalc_GR;for(;Math.abs(u-e)>N;)r(t)>r(a)?u=a:e=t,t=u-(u-e)/NumCalc_GR,a=e+(u-e)/NumCalc_GR;return(e+u)/2},minimum:(r,e,u,N)=>{N=null==N?1e-4:N;let t=u-(u-e)/NumCalc_GR,a=e+(u-e)/NumCalc_GR;for(;Math.abs(u-e)>N;)r(t)<r(a)?u=a:e=t,t=u-(u-e)/NumCalc_GR,a=e+(u-e)/NumCalc_GR;return(e+u)/2},nCr:(r,e)=>{for(var u=1,N=1;N<=e;N++)u*=(r+1-N)/N;return u},NDerivative:(r,e,u)=>{u=null==u?1:u;let N=NumCalc_ROOT_EPSILON*(Math.abs(e)+NumCalc_ROOT_EPSILON)*u**2,t=0;for(let a=0;a<=u;a++)t+=(-1)**a*NumCalc.nCr(u,a)*r(e+(u-2*a)*N);return 1/(2*N)**u*t},FDerivative:(r,e)=>(e=null==e?1:e,u=>NumCalc.NDerivative(r,u,e)),NIntegrate:(r,e,u,N)=>{N=null==N?1e-4:N;let t,a=e,l=u;if(u==Number.NEGATIVE_INFINITY||e==Number.POSITIVE_INFINITY)return void console.log("Improper Integral Error, make sure your bounds are in the correct order when using improper integrals");u<e?(t=function(e){return-r(e)},a=u,l=e):u==Number.POSITIVE_INFINITY&&isFinite(e)?(t=function(u){return 1==u&&(u-=1e-6),r(e+u/(1-u))/(1-u)**2},a=0,l=1):e==Number.NEGATIVE_INFINITY&&isFinite(u)?(t=function(e){return 0==e&&(e+=1e-6),r(u-(1-e)/e)/e**2},a=0,l=1):e==Number.NEGATIVE_INFINITY&&u==Number.POSITIVE_INFINITY?(t=function(e){return 1==e&&(e-=1e-6),-1==e&&(e+=1e-6),r(e/(1-e**2))*((1+e**2)/(1-e**2)**2)},a=-1,l=1):t=function(e){return r(e)};let n=NumCalc.maximum(NumCalc.FDerivative(t),a,l),m=Math.ceil(Math.pow(Math.abs(n)*(l-a)**5/(180*N),1/4))+30,I=(l-a)/m,i=0;for(let r=0;r<=m-1;r++)i+=t(a+r*I)+2*t(a+(r+.5)*I);return I/3*(.5*(t(l)-t(a))+i)}};